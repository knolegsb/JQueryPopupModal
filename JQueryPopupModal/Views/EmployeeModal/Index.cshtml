@model IEnumerable<JQueryPopupModal.Entities.Employee>

@{ 
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>    
    <link href="@Url.Content("~/Content/themes/base/jquery-ui.min.css")" rel = "stylesheet" type="text/css" />
    <script src="@Url.Content("~/Scripts/jquery-3.1.1.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery-ui-1.12.1.js")" type="text/javascript"></script>
    @*<script type="text/javascript">
        $(document).ready(function () {
            $.ajaxSetup({ cache: false });

            $("#openDialog").on("click", function (e) {
                e.preventDefault();
                var url = $(this).attr("href");

                $("dialog-edit").dialog({
                    title: "Add Employee",
                    autoOpen: false,
                    resizable: false,
                    height: 355,
                    width: 400,
                    show: { effect: "drop", direction: "up" },
                    modal: true,
                    draggable: true,
                    open: function (event, ui) {
                        $(this).load(url);
                    },
                    close: function (event, ui) {
                        $(this).dialog('close');
                    }
                });
                $("#dialog-edit").dialog('open');
                return false;
            });

            $(".editDialog").on("click", function (e) {
                var url = $(this).attr("href");
                $("#dialog-edit").dialog({
                    title: "Edit Customer",
                    autoOpen: false,
                    resizable: false,
                    height: 355,
                    width: 400,
                    show: { effect: "drop", direction: "up" },
                    modal: true,
                    draggable: true,
                    open: function (event, ui) {
                        $(this).dialog('close');
                    }
                });

                $("#dialog-edit").dialog('open');
                return false;
            });

            $(".confirmDialog").on("click", function (e) {
                var url = $(this).attr("href");
                $("#dialog-confirm").dialog({
                    autoOpen: false,
                    resizable: false,
                    height: 170,
                    width: 350,
                    show: { effect: "drop", direction: "up" },
                    modal: true,
                    draggable: true,
                    buttons: {
                        "OK": function () {
                            $(this).dialog("close");
                            window.location = url;
                        },
                        "Cancel": function () {
                            $(this).dialog("close");
                        }
                    }
                });
                $("#dialog-confirm").dialog("open");
                return false;
            });

            $(".viewDialog").on("click", function (e) {
                var url = $(this).attr("href");
                $("#dialog-view").dialog({
                    title: "View Customer",
                    autoOpen: false,
                    resizable: false,
                    height: 355,
                    width: 400,
                    show: { effect: "drop", direction: "up" },
                    modal: true,
                    draggabel: true,
                    open: function (event, ui) {
                        $(this).load(url);
                    },
                    buttons: {
                        "Close": function () {
                            $(this).dialog("close");
                        }
                    },
                    close: function (event, ui) {
                        $(this).dialog("close");
                    }
                });

                $("#dialog-view").dialog("open");
                return false;
            });

            $("#btncancel").on("click", function (e) {
                $("#dialog-edit").dialog("close");
            })
        });
    </script>*@

    <script type="text/javascript">
        $(document).ready(function () {

            $.ajaxSetup({ cache: false });

            $("#openDialog").on("click", function (e) {
                e.preventDefault();
                var url = $(this).attr('href');

                $("#dialog-edit").dialog({
                    title: 'Add Student',
                    autoOpen: false,
                    resizable: false,
                    height: 355,
                    width: 400,
                    show: { effect: 'drop', direction: "up" },
                    modal: true,
                    draggable: true,
                    open: function (event, ui) {
                        $(this).load(url);
                    },
                    close: function (event, ui) {
                        $(this).dialog('close');
                    }
                });

                $("#dialog-edit").dialog('open');
                return false;
            });

            $(".editDialog").on("click", function (e) {
                var url = $(this).attr('href');
                $("#dialog-edit").dialog({
                    title: 'Edit Customer',
                    autoOpen: false,
                    resizable: false,
                    height: 355,
                    width: 400,
                    show: { effect: 'drop', direction: "up" },
                    modal: true,
                    draggable: true,
                    open: function (event, ui) {
                        $(this).load(url);

                    },
                    close: function (event, ui) {
                        $(this).dialog('close');
                    }
                });

                $("#dialog-edit").dialog('open');
                return false;
            });

            $(".confirmDialog").on("click", function (e) {

                var url = $(this).attr('href');
                $("#dialog-confirm").dialog({
                    autoOpen: false,
                    resizable: false,
                    height: 170,
                    width: 350,
                    show: { effect: 'drop', direction: "up" },
                    modal: true,
                    draggable: true,
                    buttons: {
                        "OK": function () {
                            $(this).dialog("close");
                            window.location = url;

                        },
                        "Cancel": function () {
                            $(this).dialog("close");

                        }
                    }
                });
                $("#dialog-confirm").dialog('open');
                return false;
            });

            $(".viewDialog").on("click", function (e) {
                var url = $(this).attr('href');
                $("#dialog-view").dialog({
                    title: 'View Customer',
                    autoOpen: false,
                    resizable: false,
                    height: 355,
                    width: 400,
                    show: { effect: 'drop', direction: "up" },
                    modal: true,
                    draggable: true,
                    open: function (event, ui) {
                        $(this).load(url);

                    },
                    buttons: {
                        "Close": function () {
                            $(this).dialog("close");

                        }
                    },
                    close: function (event, ui) {
                        $(this).dialog('close');
                    }
                });

                $("#dialog-view").dialog('open');
                return false;
            });

            $("#btnCancel").on("click", function (e) {
                $("#dialog-edit").dialog('close');

            });
        });
    </script>
</head>
<body>
    <table align="center" width="800px">
        <tr>
            <td>
                @Html.ActionLink("Create New", "AddEditRecord", "EmployeeModal", null, new { @id = "openDialog" })
            </td>
        </tr>
    </table>
    <table cellpadding="10" style="border: 1px solid black; font-family: Verdana;" align="center" width="800px">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Id)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Emp_Id)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Department)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.City)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.State)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Country)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Mobile)
            </th>
            <th>

            </th>
        </tr>
        @foreach (var item in Model)
        {
            <tr>
                <td align="center">
                    @Html.DisplayFor(modelItem => item.Id)
                </td>
                <td align="center">
                    @Html.DisplayFor(modelItem => item.Emp_Id)
                </td>
                <td align="center">
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td align="center">
                    @Html.DisplayFor(modelItem => item.Department)
                </td>
                <td align="center">
                    @Html.DisplayFor(modelItem => item.City)
                </td>
                <td align="center">
                    @Html.DisplayFor(modelItem => item.State)
                </td>
                <td align="center">
                    @Html.DisplayFor(modelItem => item.Country)
                </td>
                <td align="center">
                    @Html.DisplayFor(modelItem => item.Mobile)
                </td>
                <td>
                    @Html.ActionLink("Edit", "AddEditRecord", new { id=item.Id }, new { @class="editDialog "}) |
                    @Html.ActionLink("Details", "Details", new { id = item.Id }, new { @class="viewDialog" }) |
                    @Html.ActionLink("Delete", "DeleteRecord", new { id = item.Id }, new { @class="confirmDialog "})
                </td>
            </tr>
        }
    </table>
    <div id="dialog-confirm" style="display: none">
        <p>
            <span class="ui-icon ui-icon-alert" style="float: left; margin: 0 7px 20px 0;"></span>
            Are you sure to delete?
        </p>
    </div>
    <div id="dialog-edit" style="display: none;"></div>
    <div id="dialog-view" style="display: none;"></div>
</body>
</html>